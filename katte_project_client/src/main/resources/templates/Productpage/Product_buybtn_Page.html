<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<link rel="stylesheet" href="/css/Productpage/Product_buybtn_Page.css" />
<body>
<!-- 사이드바 CSS 분리 스타일 적용 -->
<link rel="stylesheet" href="/css/fragments/Sidebar.css" />
<!-- 사이드바 HTML 분리 -->
<div th:replace="Fragments/Sidebar :: sidebar"></div>

<div class="wrapper">
  <div class="div">구매 입찰하기</div>
  <img class="rectangle-1594" src="rectangle-15940.svg" />
  <div class="rectangle-1613"></div>
  <div class="rectangle-1604"></div>
  <img class="image" src="image0.png" />
  <div class="nike-x-lil-yachty-us-force-1-low-white-and-midnight-navy"
       th:text="${product.product_name}">
    Nike x Lil Yachty Us Force 1 Low White and Midnight Navy
  </div>
  <div class="_270" th:text="'옵션: ' + ${size}">270</div>
  <div class="div2">즉시 구매가</div>
  <div class="_178-000" th:text=" ${price} + '₩'">178,000₩</div>
  <div class="div3">즉시 판매가</div>
  <div th:if="${#lists.isEmpty(sell_price_list)}">
    <div class="_168-000">정보 없음</div>
  </div>
  <div th:unless="${#lists.isEmpty(sell_price_list)}" th:each="sp : ${sell_price_list}">
    <div th:if="${sp.auction_size_value == size}"
         th:text="${#numbers.formatInteger(sp.price, 3, 'COMMA')} + ' ₩'"
         class="_168-000">
    </div>
  </div>
  <div class="line-262"></div>
  <div class="rectangle-1614"></div>
    <div class="rectangle-1615"></div>
  <a th:href="@{/product/payment}">
  <div class="rectangle-1616"></div>
  </a>
  <div class="div4">구매 입찰</div>
  <a th:href="@{/product/payment}">
  <div class="div5">즉시 구매 </div>
  </a>

  <div class="div6">구매 희망가</div>
  <input type="number"
         id="originPriceInput"
         name="origin_price"
         class="_172-000"
         placeholder="금액 입력"
         style="color: black;"
         oninput="updateLockedKatte()" />
  <div class="div7">₩</div>
  <div class="div8">예수금 적용</div>
  <input type="text"
         id="lockedKatteDisplay"
         class="_86-000"
         value=""
         style="color: black;"
         disabled />
  <input type="hidden" id="lockedKatteInput" name="locked_katte" />
  <div class="div9">₩</div>
  <div class="rectangle-16182"></div>
  <div class="div10">보유 머니현황</div>
  <div class="_320-000"
       th:text="${katte_money > 0} ? ${#numbers.formatInteger(katte_money, 3, 'COMMA')} ">
  </div>
  <div class="katte">katte</div>
  <div class="rectangle-16183"></div>
  <div class="div11">입찰 마감기한</div>
  <div class="_60-2025-07-22"
       th:text="'(' + ${#strings.substring(auctionEndTime, 0, 10).replace('-', '/')} + ' 마감)'">
  </div>
  <div class="rectangle-1619"></div>
  <a href="/product/payment" class="div12">구매 입찰 계속</a>
 
</div>
<script>
  // 페이지가 로드된 뒤에 실행
  document.addEventListener("DOMContentLoaded", function() {
    // 모든 버튼을 배열로 가져오기
    const buttons = document.querySelectorAll(".day-button");

    buttons.forEach(btn => {
      btn.addEventListener("click", () => {
        // 1) 기존에 활성화된 버튼에서 active 클래스 제거
        buttons.forEach(b => b.classList.remove("active"));
        // 2) 클릭한 버튼에만 active 클래스 추가
        btn.classList.add("active");
      });
    });
  });
  function updateLockedKatte() {
    const origin = parseInt(document.getElementById("originPriceInput").value) || 0;
    const locked = Math.floor(origin / 2);
    document.getElementById("lockedKatteDisplay").value = locked.toLocaleString();
    document.getElementById("lockedKatteInput").value = locked;
  }
</script>
</body>
</html>